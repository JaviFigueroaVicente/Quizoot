import{L as M,J as N,d as l,i as s,H as C,l as m,R as v,t as n,f as o,F as u,m as c,q as D,b as P,v as j,h as a}from"./app-Cmxi_hcm.js";import{u as H}from"./roles-DWmrCW-o.js";import{u as J}from"./users-DxxFow5n.js";import{d as x,u as T,a as p,r as z,m as A}from"./rules-Cr5SfRfu.js";const G={class:"row justify-content-center my-5"},I={class:"col-md-10"},K={class:"card border-0 shadow-sm"},O={class:"card-body"},Q={class:"mb-3"},W={class:"text-danger mt-1"},X={class:"text-danger mt-1"},Y={class:"mb-3"},Z={class:"text-danger mt-1"},$={class:"text-danger mt-1"},ss={class:"mb-3"},es={class:"text-danger mt-1"},ts={class:"text-danger mt-1"},os={class:"mb-3"},ls={class:"text-danger mt-1"},as={class:"text-danger mt-1"},is={class:"mt-4"},ns=["disabled"],rs={class:""},ds={key:0},ms={key:1},fs={__name:"Create",setup(us){const{roleList:V,getRoleList:y}=H(),{storeUser:q,validationErrors:r,isLoading:_}=J();x("required",z),x("min",A);const U={name:"required",email:"required",password:"required|min:8"},{validate:F,errors:d}=T({validationSchema:U}),{value:L}=p("name",null,{initialValue:""}),{value:R}=p("email",null,{initialValue:""}),{value:S}=p("password",null,{initialValue:""}),{value:k}=p("role_id",null,{initialValue:"",label:"role"}),i=M({name:L,email:R,password:S,role_id:k});function B(){F().then(f=>{f.valid&&q(i)})}return N(()=>{y()}),(f,t)=>{var b,w,g,h;const E=P("v-select");return a(),l("div",G,[s("div",I,[s("div",K,[s("div",O,[s("form",{onSubmit:C(B,["prevent"])},[s("div",Q,[t[4]||(t[4]=s("label",{for:"post-title",class:"form-label"},"Name",-1)),m(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e),id:"post-title",type:"text",class:"form-control"},null,512),[[v,i.name]]),s("div",W,n(o(d).name),1),s("div",X,[(a(!0),l(u,null,c((b=o(r))==null?void 0:b.name,e=>(a(),l("div",null,n(e),1))),256))])]),s("div",Y,[t[5]||(t[5]=s("label",{for:"email",class:"form-label"},"Email",-1)),m(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.email=e),id:"email",type:"email",class:"form-control"},null,512),[[v,i.email]]),s("div",Z,n(o(d).email),1),s("div",$,[(a(!0),l(u,null,c((w=o(r))==null?void 0:w.email,e=>(a(),l("div",null,n(e),1))),256))])]),s("div",ss,[t[6]||(t[6]=s("label",{for:"password",class:"form-label"},"Password",-1)),m(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),id:"password",type:"password",class:"form-control"},null,512),[[v,i.password]]),s("div",es,n(o(d).password),1),s("div",ts,[(a(!0),l(u,null,c((g=o(r))==null?void 0:g.password,e=>(a(),l("div",null,n(e),1))),256))])]),s("div",os,[t[7]||(t[7]=s("label",{for:"post-category",class:"form-label"}," Role ",-1)),D(E,{multiple:"",modelValue:i.role_id,"onUpdate:modelValue":t[3]||(t[3]=e=>i.role_id=e),options:o(V),reduce:e=>e.id,label:"name",class:"form-control"},null,8,["modelValue","options","reduce"]),s("div",ls,n(o(d).role_id),1),s("div",as,[(a(!0),l(u,null,c((h=o(r))==null?void 0:h.role_id,e=>(a(),l("div",null,n(e),1))),256))])]),s("div",is,[s("button",{disabled:o(_),class:"btn btn-primary"},[m(s("div",rs,null,512),[[j,o(_)]]),o(_)?(a(),l("span",ds,"Processing...")):(a(),l("span",ms,"Save"))],8,ns)])],32)])])])])}}};export{fs as default};
