import{r as C,J as R,d as i,i as o,l as m,e as d,R as u,f as a,t as c,q as p,b as w,H as x,y as L,h as n}from"./app-Cmxi_hcm.js";import{s as E,c as M,b as k,a as f,V as q}from"./index.esm-BhpYNWYs.js";import{e as D}from"./yup-locales.esm-CWkDNdp4.js";import{D as S}from"./DropZone-QYNoPNpN.js";import{u as U}from"./forms-BzG83gw_.js";import{u as F}from"./categories-BRWg9nKh.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"outer-wrapper"},O={class:"main-container equal-container mb-3"},B={class:"container left-container"},I={class:"input-form mb-5"},$={key:0,class:"text-danger"},H={class:"input-form mb-5"},J={key:0,class:"text-danger"},T={class:"mb-4"},Z={key:0,class:"text-danger"},j={class:"container right-container"},z={class:"form-button-wrapper"},G={__name:"Create",setup(K){const s=C({}),{storeForm:b,formulario:t}=U(),{categoryList:_,getCategoryList:v}=F();t.value={name:"",description:"",category_id:[]},E(D);const g=L(),y=M().shape({name:f().required("El nombre es requerido"),description:f().required("La descripción es requerida"),category_id:k().min(1,"Debe seleccionar al menos una categoría")}),h=async()=>{try{await y.validate(t.value,{abortEarly:!1}),await b(),g.push({name:"mis-formularios.index"})}catch(l){l instanceof q?(s.value={},l.inner.forEach(e=>{s.value[e.path]=e.message})):console.error(l)}};return R(()=>{v()}),(l,e)=>{const V=w("MultiSelect");return n(),i("div",N,[e[7]||(e[7]=o("h1",null,"CREAR FORMULARIO",-1)),o("div",O,[o("div",B,[o("div",I,[m(o("input",{class:"form-control editable-title align-left",id:"name",placeholder:"","onUpdate:modelValue":e[0]||(e[0]=r=>a(t).name=r)},null,512),[[u,a(t).name]]),e[4]||(e[4]=o("label",{class:"form-label",for:"name"},"Nombre del formulario",-1)),s.value.name?(n(),i("small",$,c(s.value.name),1)):d("",!0)]),o("div",H,[m(o("input",{class:"form-control editable-description align-left",id:"description",placeholder:"","onUpdate:modelValue":e[1]||(e[1]=r=>a(t).description=r)},null,512),[[u,a(t).description]]),e[5]||(e[5]=o("label",{class:"form-label",for:"description"},"Descripción del formulario",-1)),s.value.description?(n(),i("small",J,c(s.value.description),1)):d("",!0)]),o("div",T,[e[6]||(e[6]=o("label",{class:"label",for:"category"},"Categorias:",-1)),p(V,{modelValue:a(t).category_id,"onUpdate:modelValue":e[2]||(e[2]=r=>a(t).category_id=r),options:a(_),display:"chip",optionLabel:"name",optionValue:"id",placeholder:"Seleccione categorias",maxSelectedLabels:3,class:"white w-full md:w-80 select"},null,8,["modelValue","options"]),s.value.category_id?(n(),i("small",Z,c(s.value.category_id),1)):d("",!0)])]),o("div",j,[p(S,{modelValue:a(t).thumbnail,"onUpdate:modelValue":e[3]||(e[3]=r=>a(t).thumbnail=r)},null,8,["modelValue"])])]),o("div",z,[o("button",{type:"submit",class:"btn btn-custom mt-2 mb-5",onClick:x(h,["prevent"])},"CREAR FORMULARIO")])])}}},te=A(G,[["__scopeId","data-v-0cfa1d3c"]]);export{te as default};
