import{r as w,d as l,i as t,l as f,e as i,R as _,f as m,t as d,F as g,m as E,H as k,y as C,b as R,h as n,q as U}from"./app-Cmxi_hcm.js";import{s as P,c as v,b as $,a as b,e as q,V as N}from"./index.esm-BhpYNWYs.js";import{e as A}from"./yup-locales.esm-CWkDNdp4.js";import{u as B}from"./preguntas-wEJ3Kd-z.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"container card flex flex-column align-items-center mb-5"},I={class:"row"},L={class:"input-form"},S={key:0,class:"text-danger"},T={class:"row justify-center gap-4"},G={class:"flex align-items-center w-full"},M={class:"input-form w-full ml-2"},j=["name","onUpdate:modelValue"],H=["for"],z={key:0,class:"text-danger"},J={key:0,class:"text-danger"},K={__name:"Create",setup(O){const{storePregunta:h,pregunta:u}=B(),s=w({});P(A);const y=C(),V=v().shape({pregunta:b().required("Pregunta es un campo requerido"),respuestas:$().of(v().shape({respuesta:b().required("La respuesta es requerida"),correcta:q()})).min(4,"Debe haber al menos 4 respuestas").test("una-correcta","Solo una respuesta puede ser correcta",function(r){return r.filter(c=>c.correcta).length===1})}),x=async()=>{try{await V.validate(u.value,{abortEarly:!1}),await h(),y.push({name:"mis-preguntas.index"})}catch(r){r instanceof N?(s.value={},r.inner.forEach(e=>{s.value[e.path]=e.message})):console.error(r)}};return(r,e)=>{const c=R("Checkbox");return n(),l(g,null,[e[4]||(e[4]=t("h1",null,"CREAR PREGUNTA",-1)),t("div",F,[t("div",I,[e[2]||(e[2]=t("span",null,"Pregunta:",-1)),t("div",L,[f(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>m(u).pregunta=o),placeholder:"",class:"form-control w-full md:w-80"},null,512),[[_,m(u).pregunta]]),e[1]||(e[1]=t("label",{for:"pregunta",class:"form-label"},"Escribe tu pregunta",-1)),s.value.pregunta?(n(),l("small",S,d(s.value.pregunta),1)):i("",!0)])]),t("div",T,[e[3]||(e[3]=t("span",null,"Respuestas:",-1)),(n(!0),l(g,null,E(m(u).respuestas,(o,a)=>(n(),l("div",{class:"flex flex-column gap-2",key:a},[t("div",G,[U(c,{modelValue:o.correcta,"onUpdate:modelValue":p=>o.correcta=p,inputId:"respuesta"+(a+1),name:"pregunta.respuestas."+a+".correcta",binary:!0,"false-value":0,"true-value":1},null,8,["modelValue","onUpdate:modelValue","inputId","name"]),t("div",M,[f(t("input",{class:"form-control",name:"respuesta"+(a+1),"onUpdate:modelValue":p=>o.respuesta=p,type:"text",placeholder:""},null,8,j),[[_,o.respuesta]]),t("label",{class:"form-label",for:"respuesta"+(a+1)},"Escribe tu respuesta",8,H)])]),s.value[`respuestas[${a}].respuesta`]?(n(),l("small",z,d(s.value[`respuestas[${a}].respuesta`]),1)):i("",!0)]))),128)),s.value.respuestas?(n(),l("small",J,d(s.value.respuestas),1)):i("",!0)])]),t("button",{type:"submit",class:"btn btn-primary button button-action mt-5 my-5",onClick:k(x,["prevent"])},"CREAR PREGUNTA")],64)}}},ee=D(K,[["__scopeId","data-v-d0af77ea"]]);export{ee as default};
