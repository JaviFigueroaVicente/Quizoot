import{r as t,V as m}from"./app-Cmxi_hcm.js";function y(){const a=t([]),r=t({user_id:"",formulario_id:"",score:0}),i=m("$swal"),n=t(0),c=t(!1),u=async()=>{axios.get("/api/formularios-respondidos").then(o=>{a.value=o.data.data}).catch(o=>{console.log(o)})},p=async()=>{axios.get("/api/formularios-respondidos-user-logged").then(o=>{a.value=o.data.data}).catch(o=>{console.log(o)})},l=async o=>{axios.get("/api/formularios-respondidos/"+o).then(e=>{a.value=e.data.data}).catch(e=>{console.log(e)})};return{formulariosRespondidos:a,formularioRespondido:r,scoreAnterior:n,isLoading:c,getScoreAnterior:(o,e)=>{try{axios.get("/api/formulario-respondido/"+o+"/"+e).then(s=>{n.value=s.data.data.score}).catch(s=>{console.log(s)})}catch(s){console.log(s)}},getFormulariosRespondidosUserLogged:p,getFormulariosRespondidos:u,getFormulariosRespondidosUser:l,getFormulariosRespondidosFormulario:async o=>{axios.get("/api/formularios-respondidos-formulario/"+o).then(e=>{a.value=e.data.data}).catch(e=>{console.log(e)})},storeFormulariosRespondidos:async(o,e)=>{r.value.formulario_id=o,r.value.score=e,axios.post("/api/formulario-respondido",r.value).then(s=>{r.value=s.data}).catch(s=>{console.log(s)})},getFormularioRespondido:async(o,e)=>{try{axios.get("/api/formulario-respondido/"+o+"/"+e).then(s=>{r.value=s.data.data,n.value=r.value.score}).catch(s=>{console.log(s)})}catch(s){console.log(s)}},updateFormularioRespondido:async o=>{axios.post("/api/formulario-respondido/"+o.user_id+"/"+o.formulario_id,o).then(()=>{}).catch(e=>{console.log(e),console.log(o)})},deleteFormularioRespondido:async(o,e)=>{i({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&axios.delete(`/api/formulario-respondido/${o}/${e}`).then(d=>{i({icon:"success",title:"Formulario Respondido deleted successfully",showConfirmButton:!1,timer:1500,customClass:{popup:"swal"}}),l(o)}).catch(d=>{i({icon:"error",title:"Something went wrong",customClass:{popup:"swal"}}),console.log(d)})})}}}export{y as u};
