import{r as x,p as C,J as q,d as i,i as a,q as c,l as u,e as d,R as p,f as t,t as m,b as w,H as E,F,y as S,h as n}from"./app-Cmxi_hcm.js";import{s as k,c as D,b as L,a as f,V as M}from"./index.esm-BhpYNWYs.js";import{e as N}from"./yup-locales.esm-CWkDNdp4.js";import{D as U}from"./DropZone-QYNoPNpN.js";import{u as B}from"./forms-BzG83gw_.js";import{u as $}from"./categories-BRWg9nKh.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"main-container mb-3"},A={class:"container left-container"},H={class:"mb-5"},J={key:0,class:"text-danger"},T={class:"mb-5"},Z={key:0,class:"text-danger"},j={class:"mb-4"},z={key:0,class:"text-danger"},G={__name:"Create",setup(K){const s=x({}),{storeForm:b,formulario:o}=B(),{categoryList:_,getCategoryList:g}=$();k(N);const v=S();C();const y=D().shape({name:f().required("El nombre es requerido"),description:f().required("La descripción es requerida"),category_id:L().min(1,"Debe seleccionar al menos una categoría")}),V=async()=>{try{await y.validate(o.value,{abortEarly:!1}),await b(),v.push({name:"formularios.index"})}catch(l){l instanceof M?(s.value={},l.inner.forEach(e=>{s.value[e.path]=e.message})):console.error(l)}};return q(()=>{g()}),(l,e)=>{const h=w("MultiSelect");return n(),i(F,null,[a("div",R,[a("div",A,[a("div",H,[e[4]||(e[4]=a("label",{for:"name"},null,-1)),u(a("input",{class:"fw-bold editable-title align-left",id:"name",placeholder:"Introducir Aquí El Nombre  Del Formulario","onUpdate:modelValue":e[0]||(e[0]=r=>t(o).name=r)},null,512),[[p,t(o).name]]),s.value.name?(n(),i("small",J,m(s.value.name),1)):d("",!0)]),a("div",T,[e[5]||(e[5]=a("label",{for:"description"},null,-1)),u(a("input",{class:"editable-description align-left",id:"description",placeholder:"Escribe aquí la descripción del formulario...","onUpdate:modelValue":e[1]||(e[1]=r=>t(o).description=r)},null,512),[[p,t(o).description]]),s.value.description?(n(),i("small",Z,m(s.value.description),1)):d("",!0)]),a("div",j,[e[6]||(e[6]=a("label",{for:"category"},"Categorías:",-1)),c(h,{modelValue:t(o).category_id,"onUpdate:modelValue":e[2]||(e[2]=r=>t(o).category_id=r),options:t(_),display:"chip",optionLabel:"name",optionValue:"id",placeholder:"Seleccione categorías",maxSelectedLabels:3,class:"w-full md:w-80"},null,8,["modelValue","options"]),s.value.category_id?(n(),i("small",z,m(s.value.category_id),1)):d("",!0)]),c(U,{modelValue:t(o).thumbnail,"onUpdate:modelValue":e[3]||(e[3]=r=>t(o).thumbnail=r)},null,8,["modelValue"])])]),a("button",{type:"submit",class:"btn btn-custom mt-2",onClick:E(V,["prevent"])},"Crear Formulario")],64)}}},ae=I(G,[["__scopeId","data-v-1c2e3fd9"]]);export{ae as default};
