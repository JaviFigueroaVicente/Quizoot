import{u as C,r as g,J as k,a as R,d as x,i as p,q as e,k as s,f as i,b as t,W as B,y as T,h as N,H as V,K as M}from"./app-Cmxi_hcm.js";import{u as w}from"./formularios_respondidos-TQ5z_ssG.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"grid"},A={class:"col-12"},U={class:"card"},$={__name:"indexByForm",setup(q){const d=R();T();const{getFormulariosRespondidosFormulario:m,deleteFormularioRespondido:_,formulariosRespondidos:u}=w(),{can:K}=C(),l=g();k(()=>{m(d.params.id).then(()=>{console.log("Datos de formularios:",u.value)})});const c=()=>{l.value={global:{value:null,matchMode:B.CONTAINS}}};return c(),(f,o)=>{const v=t("InputIcon"),b=t("InputText"),F=t("IconField"),n=t("Button"),h=t("Toolbar"),r=t("Column"),I=t("router-link"),y=t("DataTable");return N(),x("div",D,[p("div",A,[p("div",U,[e(y,{filters:l.value,"onUpdate:filters":o[3]||(o[3]=a=>l.value=a),value:i(u),paginator:"",rows:5,globalFilterFields:["user_id","score","created_at","updated_at"],stripedRows:"",size:"small",dataKey:"formulario_id"},{header:s(()=>[e(h,{"pt:root:class":"toolbar-table"},{start:s(()=>[e(F,null,{default:s(()=>[e(v,{class:"pi pi-search"}),e(b,{modelValue:l.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value.global.value=a),placeholder:"Buscar"},null,8,["modelValue"])]),_:1}),e(n,{type:"button",icon:"pi pi-filter-slash",label:"Clear",class:"ml-1",outlined:"",onClick:o[1]||(o[1]=a=>c())}),e(n,{type:"button",icon:"pi pi-refresh",class:"h-100 ml-1",outlined:"",onClick:o[2]||(o[2]=a=>f.getFormulariosRespondidosUser(i(d).params.id))})]),_:1})]),empty:s(()=>o[4]||(o[4]=[M(" No se encuentran usuario que han respondido ")])),default:s(()=>[e(r,{field:"user_id",header:"ID del usuario",sortable:""}),e(r,{field:"score",header:"Score"}),e(r,{field:"created_at",header:"Creado el",sortable:""}),e(r,{field:"updated_at",header:"Actualizado el",sortable:""}),e(r,{class:"pe-0 me-0 icon-column-2"},{body:s(a=>[e(I,{to:{name:"formulariosRespondidos.edit",params:{id:a.data.user_id,formularioId:a.data.formulario_id}}},{default:s(()=>[e(n,{icon:"pi pi-pencil",severity:"info",size:"small",class:"mr-1"})]),_:2},1032,["to"]),e(n,{icon:"pi pi-trash",severity:"danger",onClick:V(S=>i(_)(a.data.user_id,a.data.formulario_id),["prevent"]),size:"small"},null,8,["onClick"])]),_:1})]),_:1},8,["filters","value"])])])])}}},O=z($,[["__scopeId","data-v-47a92c05"]]);export{O as default};
