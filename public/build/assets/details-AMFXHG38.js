import{r as v,J as P,a as V,d as i,q as l,f as e,i as s,e as x,O as c,t as r,F as d,m,k as h,b as y,h as a,n as w}from"./app-Cmxi_hcm.js";import{u as I}from"./forms-BzG83gw_.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={key:0,class:"main pb-5"},B={class:"container my-2"},N={key:0,class:"row"},M={class:"col-md-4 left-section"},T={class:"ranking-container mt-10 mb-2"},j={class:"col-md-8 right-section"},q={key:1,class:"main pb-5"},z={class:"container my-2"},J={key:0,class:"row"},$={class:"col-md-4 left-section"},G=["src"],H={key:1,src:"/images/placeholder.jpg",alt:"Placeholder",class:"form-image"},K={class:"fw-bold mb-1 mt-3"},Q={class:"mt-1"},W={class:"d-flex flex-wrap text-start w-100"},X={class:"ranking-container mb-2 mt-2"},Y={class:"ranking-list"},Z=["src"],ss={class:"ranking-info"},es={key:1,class:"text-center mt-4 border-top pt-4"},ts={class:"col-md-8 right-section"},os={class:"list-group"},is={class:"d-flex justify-content-between align-items-center w-100"},as={class:"question-text"},ns=["onClick"],ls={class:"respuestas-dialog-body"},rs={class:"list-respuestas"},cs={__name:"details",setup(ds){const g=v(!1),k=v({}),_=V(),{getForm:R,formulario:n,getFormPreguntas:F,selectedPreguntas:L,getRankingFormulario:E,ranking:f,isLoading:S}=I();P(()=>{F(_.params.id),E(_.params.id),R(_.params.id)});const A=b=>{k.value=b,g.value=!0};return(b,o)=>{const C=y("router-link"),D=y("Dialog");return a(),i(d,null,[e(S)?(a(),i("div",U,[o[1]||(o[1]=s("h1",{class:"container fw-bolder text-left"},"DETALLES DEL FORMULARIO",-1)),s("div",B,[e(n)?(a(),i("div",N,[s("div",M,[l(e(c),{height:"335px",class:"skeleton"}),l(e(c),{class:"fw-bold mb-1 mt-3 skeleton",height:"40px"}),l(e(c),{class:"mt-2 skeleton",height:"18px"}),l(e(c),{class:"d-flex flex-wrap text-start w-20 mt-2 mb-4 skeleton",borderRadius:"25px",height:"30px"}),l(e(c),{class:"btn mb-3 w-100 text-center mt-10 skeleton",height:"30px"}),s("div",T,[l(e(c),{class:"ranking-title skeleton",height:"5rem"})])]),s("div",j,[l(e(c),{height:"45rem",class:"skeleton"})])])):x("",!0)])])):(a(),i("div",q,[o[6]||(o[6]=s("h1",{class:"container fw-bolder text-left"},"DETALLES DEL FORMULARIO",-1)),s("div",z,[e(n)?(a(),i("div",J,[s("div",$,[e(n)&&e(n).media&&e(n).media.length>0?(a(),i("img",{key:0,src:e(n).media[0].original_url,alt:"User image",class:"form-image"},null,8,G)):(a(),i("img",H)),s("h3",K,r(e(n).name),1),s("p",Q,r(e(n).description),1),s("div",W,[(a(!0),i(d,null,m(e(n).categories,t=>(a(),i("span",{key:t.id,class:"category-decoration"},r(t.name),1))),128))]),l(C,{to:{name:"formIndividual"}},{default:h(()=>o[2]||(o[2]=[s("button",{class:"btn btn-lila mb-5 w-100 text-center"},"Jugar Solo",-1)])),_:1,__:[2]}),s("div",X,[o[4]||(o[4]=s("h4",{class:"ranking-title"},"🏆 Ranking",-1)),s("ul",Y,[e(f).length>0?(a(!0),i(d,{key:0},m(e(f).slice(0,3),t=>{var u,p;return a(),i("li",{key:t.user_id,class:"ranking-item"},[s("img",{src:((p=(u=t.user.media)==null?void 0:u[0])==null?void 0:p.original_url)||"/images/Nav/PerfilSinFoto.webp",alt:"Foto de perfil",class:"ranking-avatar"},null,8,Z),s("span",ss,r(t.user.name)+" "+r(t.user.surname1)+" - "+r(t.score)+" pts ",1)])}),128)):(a(),i("li",es,o[3]||(o[3]=[s("span",{class:"ranking-info"},"Aún no hay respuestas",-1)])))])])]),s("div",ts,[s("ul",os,[(a(!0),i(d,null,m(e(L),(t,u)=>(a(),i("li",{key:t.id,class:"list-group-item"},[s("div",is,[s("div",null,[s("strong",null,r(u+1)+" - Pregunta: ",1),o[5]||(o[5]=s("br",null,null,-1)),s("span",as,r(t.pregunta),1)]),s("button",{class:"btn-ver-respuestas",onClick:p=>A(t)}," Ver Respuestas ",8,ns)])]))),128))])])])):x("",!0)])])),l(D,{visible:g.value,"onUpdate:visible":o[0]||(o[0]=t=>g.value=t),modal:"",draggable:!1,style:{width:"30rem",padding:"15px",height:"auto",backgroundImage:"url(/images/forms/fondoVentana.webp)",backgroundPosition:"center",backgroundSize:"cover"},pcCloseButton:""},{header:h(()=>o[7]||(o[7]=[s("h2",{class:"dialog-title"},"RESPUESTAS",-1)])),default:h(()=>[s("div",ls,[s("ul",rs,[(a(!0),i(d,null,m(k.value.respuestas,t=>(a(),i("li",{key:t.id,class:"respuesta-item"},[s("div",{class:w(t.correcta==1?"respuesta-correcta":"respuesta-incorrecta")},[s("i",{class:w(t.correcta==1?"pi pi-check":"pi pi-times")},null,2),s("p",null,r(t.respuesta),1)],2)]))),128))])])]),_:1},8,["visible"])],64)}}},_s=O(cs,[["__scopeId","data-v-c7a4ae18"]]);export{_s as default};
