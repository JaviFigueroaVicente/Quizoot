import{L as F,J as k,a as E,a1 as P,d as t,i as s,H as S,l as c,R as q,t as u,f as a,F as B,m as D,v as L,h as o}from"./app-Cmxi_hcm.js";import{u as M}from"./permissions-D6Tt7Y-m.js";import{d as _,u as R,a as V,r as T,m as U}from"./rules-Cr5SfRfu.js";const j={class:"row justify-content-center my-5"},H={class:"col-md-6"},J={class:"card border-0 shadow-sm"},N={class:"card-body"},z={class:"mb-3"},A={class:"text-danger mt-1"},C={class:"text-danger mt-1"},G={class:"mt-4"},I=["disabled"],K={class:""},O={key:0},Q={key:1},ss={__name:"Edit",setup(W){_("required",T),_("min",U);const p={name:"required|min:3"},{validate:v,errors:f,resetForm:X}=R({validationSchema:p}),{value:h}=V("name",null,{initialValue:""}),{permission:d,getPermission:b,updatePermission:y,validationErrors:g,isLoading:n}=M(),e=F({name:h}),w=E();function x(){v().then(l=>{l.valid&&y(e)})}return k(()=>{b(w.params.id)}),P(()=>{e.id=d.value.id,e.name=d.value.name}),(l,i)=>{var m;return o(),t("div",j,[s("div",H,[s("div",J,[s("div",N,[s("form",{onSubmit:S(x,["prevent"])},[s("div",z,[i[1]||(i[1]=s("label",{for:"post-title",class:"form-label"}," Title ",-1)),c(s("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>e.name=r),id:"post-title",type:"text",class:"form-control"},null,512),[[q,e.name]]),s("div",A,u(a(f).name),1),s("div",C,[(o(!0),t(B,null,D((m=a(g))==null?void 0:m.name,r=>(o(),t("div",null,u(r),1))),256))])]),s("div",G,[s("button",{disabled:a(n),class:"btn btn-primary"},[c(s("div",K,null,512),[[L,a(n)]]),a(n)?(o(),t("span",O,"Processing...")):(o(),t("span",Q,"Update"))],8,I)])],32)])])])])}}};export{ss as default};
