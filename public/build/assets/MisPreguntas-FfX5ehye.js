import{r as c,J as M,d as p,i as a,q as s,k as o,f as l,b as n,F as f,W as N,y as R,h as m,Y as r,H as U,K as D,m as z,n as h,t as A}from"./app-Cmxi_hcm.js";import{u as E}from"./preguntas-wEJ3Kd-z.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"grid"},K={class:"col-12"},G={class:"card"},H={class:"search-and-filters-container flex md:flex-row"},J={class:"icon-field-container flex align-items-center"},L={class:"buttons-container flex gap-2 ml-2"},O=["onClick"],W={class:"respuestas-dialog-body"},Y={class:"list-respuestas"},j={__name:"MisPreguntas",setup(Q){const u=c(!1),g=c({});R();const{preguntas:k,getUserPreguntas:y,deletePregunta:C,getPregunta:x}=E(),i=c();M(()=>{y()});const I=b=>{g.value=b,u.value=!0},_=()=>{i.value={global:{value:null,matchMode:N.CONTAINS}}};return _(),(b,e)=>{const T=n("InputIcon"),P=n("InputText"),V=n("IconField"),d=n("Button"),v=n("router-link"),B=n("Toolbar"),F=n("DataTable"),S=n("Dialog");return m(),p(f,null,[a("div",q,[a("div",K,[e[7]||(e[7]=a("div",{class:"card-header bg-transparent ps-0 pe-0 mt-5 mb-3"},[a("h1",{class:"mb-0"},"BUSCAR PREGUNTAS")],-1)),a("div",G,[s(F,{filters:i.value,"onUpdate:filters":e[3]||(e[3]=t=>i.value=t),size:"normal",value:l(k).data,paginator:"",rows:5,globalFilterFields:["id","pregunta","user_id","created_at"],stripedRows:"",dataKey:"id",class:"datatable"},{header:o(()=>[s(B,{"pt:root:class":"toolbar-table"},{start:o(()=>[a("div",H,[a("div",J,[s(V,null,{default:o(()=>[s(T,{class:"pi pi-search"}),s(P,{modelValue:i.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value.global.value=t),placeholder:"Buscar"},null,8,["modelValue"])]),_:1})]),a("div",L,[s(d,{type:"button",icon:"pi pi-filter-slash",label:"Clear",outlined:"",onClick:e[1]||(e[1]=t=>_())}),s(d,{type:"button",icon:"pi pi-refresh",class:"h-100 ml-1",outlined:"",onClick:e[2]||(e[2]=t=>l(x)())}),s(v,{to:{name:"mis-preguntas.create"},class:"flex align-items-center"},{default:o(()=>e[5]||(e[5]=[a("button",{type:"button",class:"btn btn-primary button button-action crear-pregunta"},"Crear pregunta",-1)])),_:1,__:[5]})])])]),_:1})]),empty:o(()=>e[6]||(e[6]=[D(" No qusetion found. ")])),default:o(()=>[s(l(r),{field:"id",header:"ID",sortable:""}),s(l(r),{field:"pregunta",header:"Pregunta",sortable:""}),s(l(r),{field:"created_at",header:"Creado el",sortable:""}),s(l(r),null,{body:o(t=>[a("button",{class:"ver-respuestas",onClick:w=>I(t.data)}," Ver Respuestas ",8,O)]),_:1}),s(l(r),{class:"pe-0 me-0 icon-column-2"},{body:o(t=>[s(v,{to:{name:"mis-preguntas.edit",params:{id:t.data.id}}},{default:o(()=>[s(d,{icon:"pi pi-pencil",severity:"info",size:"small",class:"mr-1"})]),_:2},1032,["to"]),s(d,{icon:"pi pi-trash",severity:"danger",onClick:U(w=>l(C)(t.data.id),["prevent"]),size:"small"},null,8,["onClick"])]),_:1})]),_:1},8,["filters","value"])])])]),s(S,{visible:u.value,"onUpdate:visible":e[4]||(e[4]=t=>u.value=t),modal:"",draggable:!1,style:{width:"30rem",padding:"15px",height:"auto",backgroundImage:"url(/images/forms/fondoVentana.webp)",backgroundPosition:"center",backgroundSize:"cover"},pcCloseButton:""},{header:o(()=>e[8]||(e[8]=[a("h2",{class:"dialog-title"},"RESPUESTAS",-1)])),default:o(()=>[a("div",W,[a("ul",Y,[(m(!0),p(f,null,z(g.value.respuestas,t=>(m(),p("li",{key:t.id,class:"respuesta-item"},[a("div",{class:h(t.correcta==1?"respuesta-correcta":"respuesta-incorrecta")},[a("i",{class:h(t.correcta==1?"pi pi-check":"pi pi-times")},null,2),a("p",null,A(t.respuesta),1)],2)]))),128))])])]),_:1},8,["visible"])],64)}}},te=$(j,[["__scopeId","data-v-f73d37e9"]]);export{te as default};
