import{u as F,r as N,J as M,d,i,q as e,k as o,f as m,b as n,W as T,y as B,h as c,K as b,t as g,H as V}from"./app-Cmxi_hcm.js";import{u as w}from"./forms-BzG83gw_.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"grid"},R={class:"col-12"},S={class:"card"},U={class:"search-and-filters-container flex md:flex-row"},A={class:"icon-field-container flex align-items-center"},O={class:"buttons-container flex gap-2 ml-2"},$=["src"],K={key:1},j={key:0},q={key:1},E={__name:"MisFormularios",setup(H){B();const{formularios:v,getUserForms:p,deleteForm:h}=w(),{can:J}=F(),l=N();M(()=>{p()});const _=()=>{l.value={global:{value:null,matchMode:T.CONTAINS}}};return _(),(L,a)=>{const y=n("InputIcon"),I=n("InputText"),k=n("IconField"),r=n("Button"),u=n("router-link"),x=n("Toolbar"),s=n("Column"),C=n("DataTable");return c(),d("div",z,[i("div",R,[a[6]||(a[6]=i("h1",{class:"text-center mt-5 mb-3"},"MIS FORMULARIOS",-1)),i("div",S,[e(C,{size:"normal",filters:l.value,"onUpdate:filters":a[3]||(a[3]=t=>l.value=t),value:m(v),paginator:"",rows:5,globalFilterFields:["id","name","description","user_id","created_at"],stripedRows:"",dataKey:"id",class:"datatable"},{header:o(()=>[e(x,{"pt:root:class":"toolbar-table"},{start:o(()=>[i("div",U,[i("div",A,[e(k,null,{default:o(()=>[e(y,{class:"pi pi-search"}),e(I,{modelValue:l.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=t=>l.value.global.value=t),placeholder:"Buscar"},null,8,["modelValue"])]),_:1})]),i("div",O,[e(r,{type:"button",icon:"pi pi-filter-slash",label:"Clear",outlined:"",onClick:a[1]||(a[1]=t=>_())}),e(r,{type:"button",icon:"pi pi-refresh",class:"h-100 ml-1",outlined:"",onClick:a[2]||(a[2]=t=>m(p)())}),e(u,{to:{name:"mis-formularios.create"},class:"flex align-items-center"},{default:o(()=>a[4]||(a[4]=[i("button",{type:"button",class:"btn btn-primary button button-action crear-formulario"},"Crear formulario",-1)])),_:1,__:[4]})])])]),_:1})]),empty:o(()=>a[5]||(a[5]=[b(" No se encuentran formularios ")])),default:o(()=>[e(s,{field:"id",header:"ID",sortable:""}),e(s,{field:"name",header:"Nombre",sortable:""}),e(s,{field:"description",header:"Descripcion"}),e(s,{field:"original_image",header:"Foto"},{body:o(t=>[t.data.original_image?(c(),d("img",{key:0,src:t.data.original_image,alt:"Imagen",class:"thumbnail"},null,8,$)):(c(),d("span",K,"No hay imagen"))]),_:1}),e(s,{field:"preguntas_count",header:"NÂº Preguntas",sortable:""},{body:o(t=>[b(g(t.data.preguntas_count??0),1)]),_:1}),e(s,{field:"categoria_id",header:"Categoria"},{body:o(t=>[t.data.categories&&t.data.categories.length>0?(c(),d("span",j,g(t.data.categories.map(f=>f.nombre).join(", ")),1)):(c(),d("span",q,"No asignada"))]),_:1}),e(s,{field:"created_at",header:"Creado el",sortable:""}),e(s,{class:"pe-0 me-0 icon-column-3"},{body:o(t=>[e(u,{to:{name:"mis-formularios.asignar-preguntas",params:{id:t.data.id}}},{default:o(()=>[e(r,{icon:"pi pi-plus",severity:"success",size:"small",class:"mr-1"})]),_:2},1032,["to"]),e(u,{to:{name:"mis-formularios.edit",params:{id:t.data.id}}},{default:o(()=>[e(r,{icon:"pi pi-pencil",severity:"info",size:"small",class:"mr-1"})]),_:2},1032,["to"]),e(r,{icon:"pi pi-trash",severity:"danger",onClick:V(f=>m(h)(t.data.id),["prevent"]),size:"small"},null,8,["onClick"])]),_:1})]),_:1},8,["filters","value"])])])])}}},X=D(E,[["__scopeId","data-v-a7f3b636"]]);export{X as default};
